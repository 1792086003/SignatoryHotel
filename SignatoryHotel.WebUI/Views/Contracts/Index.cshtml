@model IEnumerable<Lanxess.CN.SignatoryHotel.BussinessEntity.Contract>

@{
    //ViewBag.Title = "Index";
    ViewBag.Title = Resource.Index;
    Layout = "~/Views/Shared/_Layout.cshtml";
    int HotelID;
    if (string.IsNullOrEmpty(Request.QueryString["HotelID"]))
    {
        HotelID = 0;
    }
    else
    {
        HotelID = int.Parse(Request.QueryString["HotelID"]);
    }
}

<h2>@Resource.Contracts</h2>

<p>
    @if ((bool)(Session["SignatoryHotelIsAdmin"])) {@Html.ActionLink(Resource.Create, "Create", new { HotelID = HotelID }, new { @class = "pull-right",target="_blank" })}
</p>
<table class="table">
    <tr>
        <th>
            @*Html.DisplayNameFor(model => model.Hotel.Name)*@
            @Resource.Hotel
        </th>
        <th>
            @*Html.DisplayNameFor(model => model.Contacter)*@
            @Resource.Contacter
        </th>
        <th>
            @*Html.DisplayNameFor(model => model.Telephone)*@
            @Resource.Telephone
        </th>
        <th>
            @*Html.DisplayNameFor(model => model.Mobile)*@
            @Resource.Mobile
        </th>
        <th>
            @*Html.DisplayNameFor(model => model.Email)*@
            @Resource.Email
        </th>
        <th>
            @*Html.DisplayNameFor(model => model.Start)*@
            @Resource.Start
        </th>
        <th>
            @*Html.DisplayNameFor(model => model.End)*@
            @Resource.End
        </th>
        <th></th>
        @if ((bool)(Session["SignatoryHotelIsAdmin"]))
        {
            <th>@Resource.Admin</th>
        }
    </tr>

@foreach (var item in Model) {
    <tr>
@if (Session["SignatoryHotelLanguage"].ToString().ToUpper() == "EN-US")
{
    <td>
        @Html.DisplayFor(modelItem => item.Hotel.Name)
    </td>
}
    @if (Session["SignatoryHotelLanguage"].ToString().ToUpper() == "ZH-CN")
    {
        <td>
            @Html.DisplayFor(modelItem => item.Hotel.CNName)
        </td>
    }
        <td>
            @Html.DisplayFor(modelItem => item.Contacter)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Telephone)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Mobile)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Email)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Start)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.End)
        </td>
        <td>
            @Html.ActionLink(Resource.Details, "Details", new { id=item.ContractID, HotelID = HotelID }, new { target = "_blank" }) 
        </td>
@if ((bool)(Session["SignatoryHotelIsAdmin"]))
{
    <td>
        @Html.ActionLink(Resource.Edit, "Edit", new { id = item.ContractID, HotelID = HotelID }, new { target = "_blank" }) |
        @Html.ActionLink(Resource.Delete, "Delete", new { id = item.ContractID, HotelID = HotelID }, new { target = "_blank" })
    </td>
}
    </tr>
}

</table>
